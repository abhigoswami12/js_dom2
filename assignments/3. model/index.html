<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Modal</title>
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <main class="container">
      <div class="overlay">
        <div class="overlay__inner">
            <button class="close"></button>
          <img src="" alt="">
          <h1></h1>
          <h2></h2>
        </div>
      </div>
    </main>

    <script>
      let data = [
        {
          image:
            "http://data.mavo.io/portfolio/images/pasted-image-1494464667397.png",
          name: "Carwash",
          category: "Painting"
        },
        {
          image:
            "http://data.mavo.io/portfolio/images/pasted-image-1494528264937.png",
          name: "Muck Mouth",
          category: "Painting"
        },
        {
          image:
            "http://data.mavo.io/portfolio/images/pasted-image-1494528646446.png",
          name: "Fishwall",
          category: "Painting"
        },
        {
          image: "http://data.mavo.io/portfolio/images/web-coffe-marilyn.jpg",
          name: "Web Coffe Marilyn",
          category: "Painting"
        },
        {
          image:
            "http://data.mavo.io/portfolio/images/pasted-image-1494903924970.png",
          name: "Web 3 Jules",
          category: "Painting"
        },
        {
          image: "http://data.mavo.io/portfolio/images/web-electric3.jpg",
          name: "Web electric3",
          category: "Painting"
        }
      ];

      //display image with a button
      const main = document.querySelector("main");
      data.forEach((obj, index) => {
        let divOuter = document.createElement("div");
        let image = document.createElement("IMG");
        let divInner = document.createElement("div")
        let button = document.createElement("button");
        button.innerText = "view ➡️";
        button.classList.add("btn");
        divInner.classList.add("item__overlay");
        divOuter.classList.add("item");


        image.src = obj.image;
        image.classList.add("img");

        divOuter.append(image);
        divOuter.append(divInner);
        divInner.append(button);
        main.append(divOuter);
      });


      //create overlay
      const buttonSelect = document.querySelectorAll(".btn");
      const overlay = document.querySelector('.overlay');
      const overlayImage = overlay.querySelector("img");
      const overlayClose = overlay.querySelector('.close');
      const h1 = overlay.querySelector('h1');
      const h2 = overlay.querySelector('h2');
      
      function handleClick(event) {
        let id = event.target.dataset.id;
        overlayClose.innerText = "✖️ close";
        overlayImage.src = data[id].image;
        console.log(overlayImage.src);
        h1.innerText = `Name: ${data[id].name}`;
        h2.innerText = `Category: ${data[id].category}`;
        overlay.classList.add('open');
        
      
        
      }

      function handleClose(e) {
        overlay.classList.remove('open');
      }

      buttonSelect.forEach((e, index)=> 
      {
        e.setAttribute('data-id', index);
        e.addEventListener('click' , handleClick)

        });
        
          overlayClose.addEventListener('click', handleClose);
    </script>
  </body>
</html>
